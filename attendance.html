---
title: FIRSTÂ® Alumni &amp; Mentors Network at Michigan
---
<!DOCTYPE html>
<html lang='en'>
<head>
    {% include title-styles.html %}
    <link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.css'>
</head>
<body>
    {% include header.html %}

    <form class='w-50 mx-auto'>
        <div class='form-group'>
            <label for='meetingType'>What type of meeting?</label>
            <select class='form-control' id='meetingType'>
                <option>
                    ------
                </option>
            </select>
        </div>
        <div>
            <label for='meetingDate'>Today's Date</label>
            <input type='date' id='meetingDate'>
        </div>
        <div>
            <label for='meetingStartTime'>Start Time</label>
            <input class='timepicker' id='meetingStartTime'>
            <label for='meetingEndTime'>End Time</label>
            <input class='timepicker' id='meetingEndTime'>
        </div>

        <div>
            <textarea 
                maxlength=1000 
                required=true
                class='w-100'
                id='meetingDescription'
                placeholder='A short description of what happened at the meeting.'></textarea>
        </div>

        <div class='uniqnames'>
            <label for='uniqname'>Enter uniqnames of people at meeting. Hit enter to add person.</label>
            <br/>
            <input type='text' id='uniqname'>
            <br/>
        </div>

        <button type="button" class="btn btn-primary" id="submit">Submit</button>
    </form>

    
    {% include footer.html %}
    {% include scripts.html %}
    <script src='//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js'></script>
    <script>
        convertMeetingTime = (time) => {
            if(time.includes('AM') || time.includes('12')) {
                return time.slice(0, 5);
            } else {
                let hour = parseInt(time.slice(0, 3));
                return `${(hour + 12)}:${time.slice(2, 4)}`;
            }
        }
        $(() => {
            fetch('http://backend.famnm.club/meeting_type')
            .then( (response) =>{
                if (!response.ok) throw Error(response.statusText);
                return response.json();
            }).then( (data) => {
                data.map(type => {
                    let meetingType = $('<option></option>');
                    meetingType.text(type.type);
                    $('#meetingType').append(meetingType);
                })
            })

            $('#meetingDate').attr('value', new Date().toISOString().slice(0,10));
            $('#meetingDate').prop('disabled', true);
            
            $('input.timepicker').timepicker({ 
                timeFormat: 'h:mm p',
                minTime: '10:00',
                maxTime: '22:00',
                startTime: '10:00',
                defaultTime: '10:00',
                dropdown: true,
                interval: 30
            });
            
            $('#uniqname').keypress((e) => {
                if (e.keyCode == 13)
                {
                    let newButton = $('<button></button>');
                    newButton.attr('type', 'button');
                    newButton.addClass('btn');
                    newButton.addClass('btn-outline-secondary');
                    newButton.addClass('mx-3');
                    newButton.addClass('my-3');
                    newButton.addClass('uniqname-btn');
                    newButton.text($('#uniqname').val());
                    newButton.click(() => { newButton.remove(); });
                    $('.uniqnames').append(newButton);
                    $('#uniqname').val('');
                }
            });

            $('#submit').click(() => {
                fetch('http://backend.famnm.club/meeting', {
                    headers: {'Content-Type': 'application/json'},
                    method: 'POST',
                    body: JSON.stringify({
                        meetingType: $('#meetingType').children("option:selected").val(),
                        meetingDay: new Date().getTime(),
                        startTime: convertMeetingTime($('#meetingStartTime').val()),
                        endTime: convertMeetingTime($('#meetingEndTime').val()),
                        description: $('#meetingDescription').val()
                    })
                }).then( (response) =>{
                    if (!response.ok) throw Error(response.statusText);
                    return response.json();
                }).then( (data) => {
                    console.log(data);
                })
            })
        });
    </script>
</body>
</html>
